class User:
    '''
    Класс User представляет пользователя приложения
    Инкапсулирует данные о пользователе и обеспечивает их валидацию
    '''
    def __init__(self, name: str, id: int = None):
        '''
        Функция __init__() инициализирует новый экземпляр класса User
        
        Параметры:
        name -- имя пользователя
        id -- уникальный идентификатор пользователя (опционально)
        
        Вызывает:
        TypeError -- если id не целое число
        ValueError -- если id не положительное число
        TypeError -- если name не строка
        ValueError -- если name пустая строка после удаления пробелов
        '''
        self.__id = None # устанавливаем начальное значение приватного атрибута __id как None
        self.__name = None # устанавливаем начальное значение приватного атрибута __name как None
        if id is not None: # проверяем, передан ли параметр id
            self.id = id # вызываем сеттер id для установки идентификатора пользователя с валидацией
        self.name = name # вызываем сеттер name для установки имени пользователя с валидацией
    
    @property # декоратор @property для создания свойства
    def id(self) -> int:
        '''
        Функция id() возвращает уникальный идентификатор пользователя в виде целого числа
        '''
        return self.__id # возвращаем значение приватного атрибута __id
    
    @id.setter # декоратор setter для свойства id
    def id(self, value: int):
        '''
        Функция id() устанавливает уникальный идентификатор пользователя с валидацией
        
        Параметры:
        value -- новый уникальный идентификатор пользователя
        
        Вызывает:
        TypeError -- если значение не является целым числом
        ValueError -- если значение не является положительным числом
        '''
        if not isinstance(value, int): # проверяем, является ли значение чем-то кроме целого числа
            raise TypeError('ID должен быть целым числом') # вызываем исключение TypeError
        if value <= 0: # проверяем, является ли значение не положительным
            raise ValueError('ID должен быть положительным числом') # вызываем исключение ValueError
        self.__id = value # устанавливаем значение приватного атрибута __id
    
    @property # декоратор @property для создания свойства
    def name(self) -> str:
        '''
        Функция name() возвращает имя пользователя в строковом виде
        '''
        return self.__name # возвращаем значение приватного атрибута __name
    
    @name.setter # декоратор setter для свойства name
    def name(self, value: str):
        '''
        Функция name() устанавливает имя пользователя с валидацией
        
        Параметры:
        value -- новое имя пользователя
        
        Вызывает:
        TypeError -- если значение не является строкой
        ValueError -- если строка пустая после удаления пробелов
        '''
        if not isinstance(value, str): # проверяем, является ли значение чем-то кроме строки
            raise TypeError('Имя пользователя должно быть строкой') # вызываем исключение TypeError
        if len(value.strip()) == 0: # проверяем, является ли строка пустой после удаления пробелов
            raise ValueError('Имя пользователя не может быть пустым') # вызываем исключение ValueError
        self.__name = value.strip() # устанавливаем значение приватного атрибута __name, удаляя лишние пробелы
    
    def to_dict(self) -> dict:
        '''
        Функция to_dict() преобразует объект User в словарь
        
        Возвращает:
        словарь с данными пользователя
        '''
        # возвращаем словарь с данными пользователя
        return {
            'id': self.id, # добавляем id в словарь
            'name': self.name # добавляем name в словарь
        }
    
    @classmethod # декоратор @classmethod для создания метода класса
    def from_dict(cls, data: dict):
        '''
        Функция from_dict() создаёт объект User из словаря
        
        Параметры:
        data -- словарь с данными пользователя
        
        Возвращает:
        User -- новый объект User
        '''
        # создаём и возвращаем новый объект класса User
        return cls(
            id=data.get('id'), # передаём id из словаря
            name=data.get('name') # передаём name из словаря
        )
    
    def __repr__(self):
        '''
        Функция __repr__() возвращает строковое представление объекта для отладки
        '''
        return f"User(id={self.id}, name='{self.name}')" # возвращаем строку с информацией об объекте User